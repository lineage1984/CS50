## CS50 Week1 C语言

### C 语言环境设置

#### 文本编辑器

&ensp;&ensp;通过 Visual Studio Code 创建文件，通常称为源文件，源文件包含程序源代码。

&ensp;&ensp;C 程序的源文件通常使用扩展名 `.c` 。



#### 编绎器

&ensp;&ensp;写在源文件中的源代码是人类可读的源。它需要"编译"，转为机器语言，这样 CPU 可以按给定指令执行程序。

&ensp;&ensp;C 语言编译器用于把源代码编译成最终的可执行程序。编译器将源代码转换成二进制，编译过程类似于打字机，源代码是字母，编译转化为打字机代码。

&ensp;&ensp;最常用的免费可用的编译器是 GUN 的 C/C++编译器。



&ensp;&ensp;我使用的的是 Windows 系统，使用 VSCode 连接 WSL 使用，安装 CS50 的库 [cs50/libcs50: This is CS50's Library for C.](https://github.com/cs50/libcs50) 就可以使用了，但由于我以前没使用过，像老师一样  `make xxx`  报错，可能是我的环境没设置好，只能 `gcc hello.c -o hello -lcs50` 才能正确编译，其实可以直接去使用网页版的 VSCode  [Visual Studio Code for CS50](https://github.com/code50) 。后续需要学习 C 语言库的安装和使用。



### C 语言基础语法

```c
#include <stdio.h>   // 头文件包含

#define PI 3.14159    // 宏定义

// 函数声明
int add(int a, int b);

int main() {         // 主函数
    // 变量声明
    int num1, num2, sum;

    // 用户输入
    printf("Enter two integers: ");
    scanf("%d %d", &num1, &num2);

    // 函数调用
    sum = add(num1, num2);

    // 输出结果
    printf("Sum: %d\n", sum);

    return 0;        // 返回 0 表示程序成功执行
}

// 函数定义
int add(int a, int b) {
    return a + b;
}
```



#### 头文件包含

&ensp;&ensp;头文件通常在程序的开头使用 `#include` 指令包含。头文件提供了函数和库的声明，如标准输入输出库 `<stdio.h>` 、标准库 `<stdlib.h>` 等。它们定义了函数、宏、常量等使程序能够使用定义的库函数。例如：

```c
#include <stdio.h>
```



#### 宏定义

&ensp;&ensp;宏是通过 `#define` 指定定义的符号常量或代码片段。宏在编译前由预处理器替换为其定义的内容。常用于定义常量或者复杂的代码块。例如：

```c
#define PI 3.14159
```



#### 函数声明

&ensp;&ensp;在 C 语言中，函数的声明必须在函数定义或调用之前。声明提供了函数的返回类型、函数名和参数列表，以便编译器知道如何调用该函数。例如：

```c
int add(int a, int b);
```

 

#### 主函数

&ensp;&ensp;`main()`函数是 C 程序的入口点，每个 C 程序都必须包含一个 `main()` 函数。程序从 `main()` 开始执行，返回值通常为 0 表示程序成功执行。例如：

```c
int main() { ... }
```



### C 语言变量

&ensp;&ensp;变量其实只不过是程序可操作的存储区的名称。C 中每个变量都有特定的类型，类型决定了变量存储的大小和布局，该范围内的值都可以存储在内存中，运算符可应用于变量上。

&ensp;&ensp;变量的名称可以由字母、数字和下划线字符组成。它必须以字母和下划线开头。大写字母和小写字母是不同的，因为 C 是大小写敏感的，以下是几种基本的变量类型。

| 类型   | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| char   | 通常是一个字节（八位），这是一个整 数类型                    |
| int    | 整型，4 个字节，取值范围 -2147483648 到 2147483647           |
| float  | 单精度浮点值。位数：32 bits(4 bytes)，分辨率：大约有7位小数，代表范围：从 -3.4e-45 到 3.4e+45 |
| double | 双精度浮点值。位数：64 bits(8 bytes)，分辨率：大约有15位小数，代表范围：从 -1.8e-308 到 1.8e+308 |
| void   | 表示类型的缺失                                               |

&ensp;&ensp;C 语言也允许定义各种其他类型的变量，比如枚举、数组、结构、共用体等等。



#### 变量定义

&ensp;&ensp;变量定义就是告诉编译器在何处创建变量的存储，以及如何创建变量的存储。变量定义指定一个数据类型，并包含了该类型的一个或多个变量的列表。

```c
int age;		// 定义整型变量
float salary;	// 定义浮点型变量
char grade;		// 定义字符型变量
int i, j, k;	// 定义多个变量
int *ptr;		// 定义一个整型指针变量。一个指针变量是一个变量的address（地址）。它是一个存储在内存中的位置，而不是存储实际数据。
```

&ensp;&ensp;目前不能完全理解什么指针变量，待学习。



#### 变量初始化

&ensp;&ensp;变量的初始化是在定义变量的同时为其赋予一个初始值。变量的初始化可在定义时进行，也可以在后续的代码中进行。初始化器由一个等号，后跟一个常量表达式组成 `type vaiable_name = value;`

- type 表示变量的数据类型，vaiable_name 是变量的名称，value 是变量的初始值。

&ensp;&ensp;举几个实例：

```
int x = 10;			// 整数变量 x 初始化为 10
float pi = 3.14;	// 浮点变量 pi 初始为 3.4

// 后续初始化变量
char ch;			// 整数变量 ch 定义
ch = 'A';			// 变量 ch 初始化为字符 'A'

// 声明外部变量
extern int d;
extern int f;
```



#### 变量不初始化

&ensp;&ensp;如果变量没有显式初始化那么它的默认值将取决于该变量的类型和其所在的作用域。

&ensp;&ensp;以下是不同类型的变量在没有显式初始化时的默认值：

| 变量类型                           | 默认值                                                       |
| ---------------------------------- | ------------------------------------------------------------ |
| 整型变量（int、short、long等）     | 0                                                            |
| 浮点型变量（float、double等）      | 0                                                            |
| 字符型变量（char）                 | '\0'，即空字符                                               |
| 数组、结构体、联合等复合类型的变量 | 它们的元素或成员将按照相应的规则进行默认初始化，这可能包括对元素递归应用默认规则。 |

